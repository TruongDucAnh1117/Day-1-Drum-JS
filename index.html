<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/app.css">

</head>
<body class="bg">
  <div class="keys">
    <div class="key" data-key="65"><kbd>A</kbd>
    <span class="sound">arcade</span></div>
    <div class="key" data-key="83"><kbd>S</kbd><span class="sound">bell</span></div>
    <div class="key" data-key="68"><kbd>D</kbd><span class="sound">delay</span></div>
    <div class="key" data-key="70"><kbd>F</kbd><span class="sound">magical</span></div>
    <div class="key" data-key="71"><kbd>G</kbd><span class="sound">cartoon</span></div>
    <div class="key" data-key="72"><kbd>H</kbd><span class="sound">door</span></div>
    <div class="key" data-key="74"><kbd>J</kbd><span class="sound">drum</span></div>
    <div class="key" data-key="75"><kbd>K</kbd><span class="sound">fairy</span></div>
    <div class="key" data-key="76"><kbd>L</kbd><span class="sound">sleigh</span></div>
  </div>

  <div class="audio">
    <audio class="audio" data-key="65" src="/sounds/arcade.wav"></audio>
    <audio class="audio" data-key="83" src="/sounds/bell-ding.wav"></audio>
    <audio class="audio" data-key="68" src="/sounds/bell-sound-with-delay.wav"></audio>
    <audio class="audio" data-key="70" src="/sounds/bike-magical-bell.wav"></audio>
    <audio class="audio" data-key="71" src="/sounds/cartoon-door.wav"></audio>
    <audio class="audio" data-key="72" src="/sounds/door-bell.wav"></audio>
    <audio class="audio" data-key="74" src="/sounds/drum-and-bells.wav"></audio>
    <audio class="audio" data-key="75" src="/sounds/fairy-bells.wav"></audio>
    <audio class="audio" data-key="76" src="/sounds/sleigh-bells.wav"></audio>
  </div>

  <div class="copy-right">Copy Right: Duc Anh Truong</div>
  <script >
    document.addEventListener("keydown",playsound)
      function playsound(e){
        const playaudio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
        const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);     
        if(!playaudio) return;
        playaudio.currentTime = 0; //choi lai tu dau
        playaudio.play();//choi audio
        key.classList.add("playing");//them class vao
      }
      const keys = document.querySelectorAll(`.key`);
      keys.forEach(key => key.addEventListener('transitionend',removeTransition));
      function removeTransition(e){
        if(e.propertyName !== "transform" ) return; //Neu khong phai transform thi skip
        this.classList.remove("playing");
      };
    
  </script>
</body>
</html>